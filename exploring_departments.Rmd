---
title: "Exhibition B: Exploring the Met's Departments"
output: 
  html_document:
    toc: true
    toc_float: true
    theme: cosmo
    code_folding: hide
---

```{r include = FALSE}
library(tidyverse)
library(plotly)

load("data/met.RData")

mypal = c("#78B7C5",  "#EBCC2A", "#FF0000", "#EABE94", 
         "#3B9AB2", "#B40F20", "#0B775E", "#F2300F", 
         "#5BBCD6", "#F98400", "#ab0213", "#E2D200", 
         "#ff7700", "#46ACC8", "#00A08A", "#78B7C5",
         "#a7ba42", "#f94f8a", "#DD8D29")
```

# **Departments**

The Met holds many collections from Modern and Contemporary Art to Arms and Armor. 
Explore the vast departments of the Met and the many objects they contain. Click [here](https://www.metmuseum.org/about-the-met/collection-areas) to learn more about each department, or collection area.

```{r}
met |>
  count(department) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  select(department, n) |> 
  rename("Department" = department, "Number of Objects" = n) |>
  knitr::kable(caption = "Top 3 Departments by Number of Objects")
```

The most objects can be found in the following departments: 1) Drawings and Prints; 2) European Sculpture and Decorative Arts; and 3) Asian Art.

```{r}
met |> 
  count(department) |> 
  mutate(department = fct_reorder(department, n)) |> 
  plot_ly(x = ~department, y = ~n, color = ~department, type = "bar", colors = mypal) |>
  layout(title = 'Explore each department and their number of objects',
         xaxis = list(title = 'Department'), 
         yaxis = list(title = 'Number of Objects'),
         legend = list(title = list(text ='Department')))
```

## Drawings and Prints

```{r}
met |>
  filter(department == "Drawings and Prints") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Drawings and Prints") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 700))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## European Sculpture and Decorative Arts

```{r}
met |>
  filter(department == "European Sculpture and Decorative Arts") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "European Sculpture and Decorative Arts") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 98))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Photographs

```{r}
met |>
  filter(department == "Photographs") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Photographs") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 80))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Asian Art

```{r}
met |>
  filter(department == "Asian Art") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Asian Art") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 130))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Greek and Roman Art

```{r}
met |>
  filter(department == "Greek and Roman Art") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Greek and Roman Art") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 100))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Costume Institue

```{r}
met |>
  filter(department == "Costume Institute") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Costume Institute") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 90))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Egyptian Art

```{r}
met |>
  filter(department == "Egyptian Art") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Egyptian Art") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 62))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## The American Wing

```{r}
met |>
  filter(department == "The American Wing") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "The American Wing") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 59))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Islamic Art

```{r}
met |>
  filter(department == "Islamic Art") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Islamic Art") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 42))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Modern and Contemporary Art

```{r}
met |>
  filter(department == "Modern and Contemporary Art") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Modern and Contemporary Art") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal, 
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 80))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Arms and Armor

```{r}
met |>
  filter(department == "Arms and Armor") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Arms and Armor") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 20))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Arts of Africa, Oceania, and the Americas

```{r}
met |>
  filter(department == "Arts of Africa, Oceania, and the Americas") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Arts of Africa, Oceania, and the Americas") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 50))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Medieval Art

```{r}
met |>
  filter(department == "Medieval Art") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Medieval Art") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 30))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Ancient Near Eastern Art

```{r}
met |>
  filter(department == "Ancient Near Eastern Art") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Ancient Near Eastern Art") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 30))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Musical Instruments

```{r}
met |>
  filter(department == "Musical Instruments") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Musical Instruments") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 8))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## European Paintings

```{r}
met |>
  filter(department == "European Paintings") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "European Paintings") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## Robert Lehman Collection

```{r}
met |>
  filter(department == "Robert Lehman Collection") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "Robert Lehman Collection") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 6))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```

## The Cloisters

```{r}
met |>
  filter(department == "The Cloisters") |>
  count(object_name) |> 
  mutate(rank = min_rank(desc(n))) |> 
  filter(rank < 4) |> 
  arrange(desc(n)) |>
  rename("Object Name" = object_name, "Number of Objects" = n) |>
  select("Object Name", "Number of Objects") |> 
  knitr::kable(caption = "Most common objects")

met |> 
  filter(department == "The Cloisters") |>
  count(object_name) |> 
  mutate(object_name = fct_reorder(object_name, n)) |> 
  plot_ly(x = ~object_name, y = ~n, color = ~object_name, type = "bar", colors = mypal,
          transforms = list(
          list(
          type = 'filter',
          target = 'y',
          operation = '>',
          value = 10))) |>
  layout(title = 'Explore the Objects',
         xaxis = list(title = 'Object Name'), 
         yaxis = list(title = 'Number of Objects'),
         showlegend = FALSE)
```


